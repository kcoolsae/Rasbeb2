@* list_contests.scala.html
 * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * Copyright Â© 2023-2024 Kris Coolsaet (Universiteit Gent)
 *
 * This software is distributed under the MIT License - see files LICENSE and AUTHORS
 * in the top level project directory.
 *@

@import _root_.be.ugent.caagt.dao.Page
@import _root_.be.ugent.rasbeb2.db.dto.Contest
@import views.html.be.ugent.caagt.play.ext.i18n
@import Contest.Field._
@import controllers.contest.routes

@import common.Deputy
@import util.Table
@import views.html.b5._
@(contests: Page[Contest], table: Table)(implicit deputy: Deputy)
@layout.organiser("cntl") {
    @h1("contest.contests")
    @paged(table, contests.getFullSize) {
        <a href="@routes.ContestSettingsController.newContestForm()" class="btn btn-outline-primary">@i18n("contest.new")</a>
    }(_.columns(TITLE -> "common.title",TYPE -> "contest.type",STATUS -> "contest.status")){
    @foreach.tr(contests.getList) { contest =>
        <td>@contest.title</td>
        <td>@i18n("enum.contest-type." + contest.contestType.name)</td>
        <td>@i18n("enum.status." + contest.status.name)</td>
        <td>
            <a class="btn btn-sm btn-outline-primary" href="@routes.ContestController.getContest(contest.id)">...</a>
        </td>
    }
    }( _.searchfields(TITLE -> "common.filter.title",TYPE -> null,STATUS -> null))
}